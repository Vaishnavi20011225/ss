name: SS

on:
  push:
    branches:
      - 'main'

jobs:
  commit:
    name: push to uat
    runs-on: ubuntu-latest
    steps:
      - name: checkout
        uses: actions/checkout@v3
                
      - name: echoing
        run: |  
                number=50
                echo "number=$number" >> $GITHUB_ENV
                
                
            
      - name: gitting   
        run: |
               git clone https://github.com/Vaishnavi20011225/ss-gitops.git
               git config --global user.email "vaishnavi.korgaonkar@wohlig.com"
               git config --global user.name "Vaishnavi20011225"
               cd ss-gitops
               ls
               echo ${{ env.number }}
              
               
               cat gitops.txt
               toreplace=$(cat gitops.txt | sed 's/[^0-9]*//g'); echo $toreplace
               newnumber= echo "$toreplace + 50" | bc 
               newnumber=echo $newnumber >> $GITHUB_ENV
               sed -i -e 's/${{env.toreplace}}/${{env.newnumber}}/g' gitops.txt
               cat gitops.txt
               echo "{{env.toreplace}}+50" >> $GITHUB_ENV
